(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["tournaments"],{"054a":function(t,e,a){},"063b":function(t,e,a){"use strict";a("4905")},"0816":function(t,e,a){"use strict";(function(t){a("13d5"),a("d3b7"),a("caad"),a("2532"),a("14d9"),a("fb6a"),a("d81d"),a("b0c0");var s={xl:9,lg:7,md:5};e["a"]={name:"GamesFilter",props:{value:{type:Array,default:function(){return[]}},toggleReset:{type:Boolean,default:!1},asLinks:{type:Boolean,default:!1},isJobfair:{type:Boolean,default:!1},hideHeadline:{type:Boolean,default:!1}},data:function(){return{gamesPopover:!1,selectedGames:this.value||[],selectedTags:[]}},computed:{mainGamesLength:function(){return"sm"===this.getAppSize?0:s[this.getAppSize]+(this.asLinks?1:0)},games:function(){var t=this;return this.getGames.reduce((function(e,a){return a.selected=t.selectedGames.includes(a.id),t.isJobfair?a.use_in_job_fair&&e.push(a):e.push(a),e}),[])},gamesMain:function(){return this.games.slice(0,this.mainGamesLength)},gamesTags:function(){return this.games.slice(this.mainGamesLength)},activeTags:function(){return t.difference(this.selectedGames,this.gamesMain.map((function(t){return t.id})))},allGamesSelected:function(){return!this.selectedGames.length},selectedGame:function(){return this.getGame(t.head(this.selectedGames))}},watch:{selectedGames:function(t){this.$emit("input",t)},value:function(t){this.selectedGames=t},toggleReset:function(){this.clearSelection()}},methods:{showGamesPopover:function(){this.gamesPopover=!0,this.selectedTags=this.activeTags.slice()},hideGamesPopover:function(){this.gamesPopover=!1,this.clearSelectedTags()},clearSelectedTags:function(){this.selectedTags=[]},clearSelection:function(){this.selectedGames.length&&(this.selectedGames=[]),this.$emit("filter-change",this.$t("games.all"))},toggleGame:function(t){this.selectedGames=this.selectedGames.includes(t.id)?[]:[t.id],this.$emit("filter-change",t.name),this.hideGamesPopover()}}}}).call(this,a("bcbf")["default"])},"0908":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"overall-tournaments"},[t.tournamentsIds.length?[e("div",{staticClass:"overall-tournaments__list"},[e("tournaments-list",{ref:"tournamentsList",attrs:{"tournaments-ids":t.tournamentsIds,"sort-order":t.dateOrder},on:{"toggle-sort":t.onSortToggled}})],1),t.showPagination?e("pvp-pagination",{attrs:{params:t.paginationParams,disabled:t.loadingState.page},on:{onchange:t.setPage}}):t._e()]:e("div",{staticClass:"empty"},[e("icon",{staticClass:"empty-icon",attrs:{name:"pvp-swords"}}),e("div",{staticClass:"empty-text"},[t._v(" "+t._s(t.$t("tournaments.placeholders_filters"))+" ")])],1)],2)},n=[],i=a("564a"),r=i["a"],o=(a("a963"),a("2877")),l=Object(o["a"])(r,s,n,!1,null,"d7f67228",null);e["a"]=l.exports},"0a94":function(t,e,a){},"28d8":function(t,e,a){"use strict";a("5b38")},"314c":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tournaments-filter"},[t.appIsMobile&&!t.mobileFilterVisible?[e("pvp-btn",{attrs:{variant:"secondary",block:""},on:{click:function(e){t.mobileFilterVisible=!0}}},[t._v(" "+t._s(t.$t("filter.open"))+" ")])]:[e("div",{staticClass:"filters-list"},[e("div",{staticClass:"list-item type"},[e("div",{staticClass:"filter-label"},[t._v(t._s(t.$t("global.status"))+":")]),e("div",{staticClass:"filter-control"},t._l(t.statuses,(function(a){return e("div",{key:a.value,staticClass:"type-check"},[e("pvp-radio",{attrs:{value:a.value},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[t._v(t._s(a.title)+" ")])],1)})),0)]),e("div",{staticClass:"list-item game"},[e("div",{staticClass:"filter-label"},[t._v(t._s(t.$t("games.single"))+":")]),e("div",{staticClass:"filter-control"},[e("game-select",{model:{value:t.gameId,callback:function(e){t.gameId=e},expression:"gameId"}})],1)])]),t.resetButtonVisible?e("div",{staticClass:"filter-controls"},[e("pvp-btn",{attrs:{"icon-left":"cross",variant:"secondary"},on:{click:t.resetFilter}},[t._v(t._s(t.$t("filter.skip"))+" ")])],1):t._e()]],2)},n=[],i={type:"all",gameId:null},r={name:"TournamentsFilter",props:{value:{type:Object,default:function(){return i}}},data:function(){return{type:i.type,gameId:i.gameId,mobileFilterVisible:!1}},computed:{statuses:function(){return[{title:this.$t("tournaments.tabs_all"),value:"all"},{title:this.$t("tournaments.tabs_upcoming"),value:"future"},{title:this.$t("tournaments.tabs_current"),value:"started"},{title:this.$t("tournaments.tabs_completed"),value:"finished"}]},resetButtonVisible:function(){return this.type!==i.type||this.gameId!==i.gameId}},watch:{type:"emitChange",gameId:"emitChange"},methods:{resetFilter:function(){this.type=i.type,this.gameId=i.gameId,this.mobileFilterVisible=!1},emitChange:function(){this.$emit("input",{type:this.type,gameId:this.gameId})}}},o=r,l=(a("554f"),a("2877")),c=Object(l["a"])(o,s,n,!1,null,"514ffb12",null);e["a"]=c.exports},"35b8":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("main-layout",{class:{padded:!t.hasAdvBanner},attrs:{"is-loading":t.loadingState.page},scopedSlots:t._u([{key:"banner",fn:function(){return[e("external-banner")]},proxy:!0}])},[t.loadingState.page?t._e():e("div",{staticClass:"pvp-container"},[e("headline",[e("h1",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("tournaments.few")))])]),e("tournaments-carousel",{attrs:{"tournaments-ids":t.recommendedTournamentsIds}}),e("div",{staticClass:"all-tournaments"},[e("GamesFilter",{on:{input:t.updateQuery,"filter-change":t.gamesFilterChangeHandler},model:{value:t.gamesIds,callback:function(e){t.gamesIds=e},expression:"gamesIds"}}),e("TabList",{key:t.tabListKey,attrs:{"start-tab-index":t.currentTabIndex,tabs:t.navigationTabs},on:{"change-tab":t.tabListChangeHandler}}),t.currentTab.currentProfile?e("profile-tournaments",{attrs:{"hide-filter":!0,"game-id":t.gamesIds[0],hash:t.getCurrentProfileHash}}):e("overall-tournaments",{attrs:{type:t.currentTab.type,"games-ids":t.gamesIds},on:{load:t.overallTournamentsOnLoad}})],1)],1),e("template",{slot:"seo-text"},t._l(t.seoText,(function(a,s){return e("p",{key:s},[t._v(" "+t._s(a)+" ")])})),0)],2)},n=[],i=a("65cd"),r=i["a"],o=(a("7b5d"),a("2877")),l=Object(o["a"])(r,s,n,!1,null,"1b8eae78",null);e["default"]=l.exports},3892:function(t,e,a){"use strict";(function(t){a("d9e2"),a("14d9"),a("a9e3");e["a"]={name:"Pagination",props:{params:{type:Object,required:!0,validator:function(t){var e=t.total,a=t.page,s=t.perPage;if(void 0===a||void 0===e||void 0===s)throw Error("Обязательные параметры {page, total, perPage}");return!0}},disabled:{type:Boolean,default:!1},hasPerpage:{type:Boolean,default:!0}},data:function(){return{currentPage:0,perPage:0,perPageSizeDefault:[]}},computed:{totalPages:function(){return Math.ceil(this.params.total/this.perPage)},pages:function(){var t=this.currentPage,e=this.totalPages,a=[{isCurrent:1===t,num:1}];t-2>1&&a.push({isDivider:!0});for(var s=t-1;s<=t+1;s+=1)s>1&&s<e&&a.push({isCurrent:t===s,num:s});return t+2<e&&a.push({isDivider:!0}),e&&1!==e&&a.push({isCurrent:t===e,num:e}),a},perPageSizes:function(){var e=this.params.perPageSizes;return t.isArray(e)?e:this.perPageSizeDefault}},watch:{params:{handler:function(){this.currentPage=Number(this.params.page),this.perPage=Number(this.params.perPage)||10},deep:!0,immediate:!0}},created:function(){var t=this.params.perPage;this.perPageSizeDefault=[t,3*t,6*t]},methods:{changePage:function(t){this.disabled||(this.currentPage=t,this.submitChanges())},changePerPage:function(t){this.disabled||(this.currentPage=1,this.perPage=t,this.submitChanges())},submitChanges:function(){this.$emit("onchange",{page:this.currentPage,perPage:this.perPage})}}}}).call(this,a("bcbf")["default"])},4620:function(t,e,a){},4905:function(t,e,a){},"49c7":function(t,e,a){"use strict";a("fa2d")},"554f":function(t,e,a){"use strict";a("85cf")},"564a":function(t,e,a){"use strict";(function(t){var s=a("5530"),n=(a("caad"),a("d3b7"),a("56e0c"));e["a"]={name:"OverallTournaments",components:{TournamentsList:n["a"]},props:{gamesIds:{type:Array,default:function(){return[]}},type:{type:String,required:!0}},data:function(){return{tournamentsIds:[],currentPage:1,perPage:12,total:0,dateOrder:"asc"}},computed:{paginationParams:function(){return{page:this.currentPage,perPage:this.perPage,total:this.total,perPageSizes:[12,36,72]}},showPagination:function(){return this.total>12}},watch:{type:{handler:function(t){["current","future"].includes(t)&&(this.dateOrder="asc"),"completed"===t&&(this.dateOrder="desc"),this.reloadTournaments(1)},immediate:!0},gamesIds:{handler:function(){this.reloadTournaments(1)}},tournamentsIds:{handler:function(){this.$emit("load",{amount:this.tournamentsIds.length})}}},methods:Object(s["a"])(Object(s["a"])({},t("tournaments",["fetchTournaments"])),{},{setPage:function(t){var e=t.page,a=t.perPage;this.perPage=a,this.reloadTournaments(e)},onSortToggled:function(){this.dateOrder={asc:"desc",desc:"asc"}[this.dateOrder],this.reloadTournaments(1)},reloadTournaments:function(t){this.currentPage=t,this.loadingState.page=!0,this.loadTournaments()},loadTournaments:function(){var t=this;this.fetchTournaments({type:this.type,gameId:this.gamesIds,page:this.currentPage,limit:this.perPage,tournamentTimeStart:this.dateOrder,isInRecommendedList:"completed"===this.type?void 0:"desc"}).then((function(e){t.tournamentsIds=e.tournaments,t.total=e.pagination.total})).finally((function(){t.loadingState.page=!1,t.$nextTick((function(){var e,a;t.scrollToElement({element:null===(e=t.$refs)||void 0===e||null===(a=e.tournamentsList)||void 0===a?void 0:a.$el,offset:-200})}))}))}})}}).call(this,a("2f62")["mapActions"])},"56e0c":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return t.tournamentsIds.length?e("Table",{scopedSlots:t._u([{key:"thead",fn:function(){return[e("TableRow",[e("TableData",{attrs:{heading:"","text-align":"left"}},[t._v(t._s(t.$t("tournaments.single")))]),e("TableData",{attrs:{heading:""}},[t._v(t._s(t.$t("global.start")))]),e("TableData",{attrs:{heading:""}},[t._v(t._s(t.$t("global.durationShort")))]),e("TableData",{attrs:{heading:""}},[t._v(t._s(t.$t("tournaments.system")))]),e("TableData",{attrs:{heading:""}},[t._v(t._s(t.$t("participants.few")))]),e("TableData",{attrs:{heading:""}},[t._v(t._s(t.$t("global.conditions")))]),e("TableData",{attrs:{heading:""}},[t._v(t._s(t.$t("tournaments.prizePool")))]),e("TableData",{attrs:{heading:""}},[t._v(t._s(t.$t("global.status")))])],1)]},proxy:!0},{key:"tbody",fn:function(){return t._l(t.tournaments,(function(a){return e("TableRow",{key:a.id},[e("TableData",{attrs:{"text-align":"left","white-space":"normal"}},[e("cell-tournament",{attrs:{id:a.id}})],1),e("TableData",[e("pvp-tooltip",[t._v(" "+t._s(t.$dt(a.tsStartRun,"dd_MM_HH_mm"))+" "),e("template",{slot:"tooltip"},[t._v(t._s(t.$t("tournaments.tooltips_start")))])],2)],1),e("TableData",[a.isHub?t._l(a.duration,(function(a,s){return e("div",{key:s},[t._v(" "+t._s(a)+" ")])})):e("pvp-tooltip",[e("template",{slot:"tooltip"},[t._v(t._s(t.$t("tournaments.tooltips_duration")))]),t._l(a.duration,(function(a,s){return e("div",{key:s},[t._v(" "+t._s(a)+" ")])}))],2)],2),e("TableData",[e("pvp-tooltip",[e("template",{slot:"tooltip"},[t._v(" "+t._s(t.$t("tournaments.tooltips_format_text",{counts:t.$tc("tournaments.tooltips_format_counts",a.numTeamMembers)}))+" ")]),t._v(" "+t._s(a.format)+" ")],2)],1),e("TableData",[a.isHub?[t._v(" "+t._s(a.participantsCount)+" ")]:e("pvp-tooltip",[e("template",{slot:"tooltip"},[t._v(t._s(t.$t("tournaments.tooltips_participants")))]),t._v(" "+t._s(a.participantsCountStatistic)+" ")],2)],2),e("TableData",[e("TournamentConditions",{attrs:{"trust-tooltip-text":t.$t("organizations.trusted_enabled"),"anticheat-tooltip-text":t.$t("tournaments.tooltips_anticheat_enabled"),"is-trusted":a.premium,"is-anticheat":a.hasAntiCheat}})],1),e("TableData",[a.hasPrizes?e("div",{staticClass:"prizes"},t._l(a.prizes,(function(a,s){return e("pvp-tooltip",{key:s},[e("div",{staticClass:"prize"},[e("div",[t._v(t._s(a.count))]),e("icon",{attrs:{name:a.icon}}),e("template",{slot:"tooltip"},[t._v(t._s(a.tooltip))])],2)])})),1):t._e()]),e("TableData",{attrs:{"text-align":"left"}},[e("cell-simple",[t._t("status",(function(){return[e("tournament-status",{attrs:{id:a.id}}),a.participationResult?e("div",{staticClass:"participation-result"},[t._v(" "+t._s(a.participationResult.text)+" ")]):t._e()]}),{tournament:a})],2)],1)],1)}))},proxy:!0}],null,!0)}):t._e()},n=[],i=a("a7cd"),r=i["a"],o=(a("28d8"),a("2877")),l=Object(o["a"])(r,s,n,!1,null,"89b291f0",null);e["a"]=l.exports},"5b38":function(t,e,a){},"60ba":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return t.isVisible&&t.appIsLarge?e("iframe",{ref:"banner",staticClass:"external-banner",attrs:{frameborder:"0",vspace:"0",hspace:"0",marginwidth:"0",marginheight:"0",scrolling:"no",srcdoc:t.html}}):t._e()},n=[],i=a("c7eb"),r=a("1da1"),o=(a("caad"),a("2532"),a("99af"),a("d9e2"),a("d3b7"),a("f2e8")),l=a.n(o),c=["398","219","215","201","29","28","34","191","188","17","33","16","196","467"],u={name:"ExternalBanner",data:function(){return{html:"",style:"<style>.b-bg { display: block; position: relative; width: 100%; height: 220px; background: no-repeat 50% 50%;}</style>",url:"https://ad.mail.ru/adq/?q=171697&_SITEZONE=9"}},computed:{isVisibleForSng:function(){var t,e=(null===(t=window.__GEMS)||void 0===t?void 0:t.country_id)||window.country_id;return c.includes(e)},isVisible:function(){return this.html.length>0&&this.isVisibleForSng}},mounted:function(){var t=this;return Object(r["a"])(Object(i["a"])().mark((function e(){var a,s,n,r;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.fetchData();case 3:a=e.sent,s=0,n=(null===a||void 0===a?void 0:a[s])||{},r=n.html,r&&(t.$store.commit("banner/UPDATE_HAS_ADV_BANNER",!0),t.html="".concat(r).concat(t.style)),e.next=12;break;case 9:throw e.prev=9,e.t0=e["catch"](0),new Error("Request error");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},methods:{fetchData:function(){var t=this;return new Promise((function(e){l()(t.url,(function(t,a){e(a)}))}))}}},d=u,p=(a("063b"),a("2877")),m=Object(p["a"])(d,s,n,!1,null,"deb12bfa",null);e["a"]=m.exports},"65cd":function(t,e,a){"use strict";(function(t,s,n,i){var r=a("5530"),o=(a("4de4"),a("d3b7"),a("25f0"),a("d81d"),a("a9e3"),a("ac1f"),a("5319"),a("a15b"),a("a1cb")),l=a("f36e"),c=a("f0f9"),u=a("8090"),d=a("8161"),p=a("0908"),m=a("60ba");e["a"]={name:"Tournaments",components:{OverallTournaments:p["a"],ProfileTournaments:d["a"],TournamentsCarousel:u["a"],GamesFilter:c["a"],ExternalBanner:m["a"],TabList:l["a"]},page:function(){return{title:this.$t("tournaments.meta_title"),meta:[{description:this.$t("tournaments.meta_description")}]}},props:{gameCode:{type:String,default:""}},data:function(){return{gamesIds:[],tournamentsIds:[],recommendedTournamentsIds:[],currentUserTournamentsCount:0,currentTabIndex:0,isCheckEmptyTab:!0,tabListKey:0}},computed:Object(r["a"])(Object(r["a"])(Object(r["a"])({},t("banner",["hasAdvBanner"])),s("profile",["isLoggedIn","getCurrentProfileHash"])),{},{tabs:function(){return[{title:this.$t("tournaments.tabs_upcoming"),type:"future"},{title:this.$t("tournaments.tabs_current"),type:"current",list:"current"},{title:this.$t("tournaments.tabs_completed"),type:"completed",list:"completed"},{title:this.$t("tournaments.variant_my"),currentProfile:!0,list:"my"}]},currentTab:function(){return this.tabs[this.currentTabIndex]},navigationTabs:function(){return this.currentUserTournamentsCount?this.tabs:this.tabs.filter((function(t){return!t.currentProfile}))},seoText:function(){return[this.$t("seo.tournaments_0",{host:window.location.host.toLocaleUpperCase()}),this.$t("seo.tournaments_1")]}}),created:function(){var t,e,a=this,s=this.$route.query.games;s&&(this.gamesIds=(null===(t=s.toString())||void 0===t||null===(e=t.split(","))||void 0===e?void 0:e.map((function(t){return Number(t)})))||s);this.updateQuery(),this.isLoggedIn&&this.fetchProfileTournaments({hash:this.getCurrentProfileHash,limit:12}).then((function(t){a.currentUserTournamentsCount=n.get(t,"pagination.total",0)})),this.fetchRecommendedTournaments().then((function(t){a.recommendedTournamentsIds=t})).finally((function(){a.loadingState.page=!1}))},methods:Object(r["a"])(Object(r["a"])({},i("tournaments",["fetchProfileTournaments","fetchRecommendedTournaments"])),{},{overallTournamentsOnLoad:function(t){var e=t.amount;if(this.isCheckEmptyTab)return e||"completed"===this.currentTab.type?(this.isCheckEmptyTab=!1,void(this.tabListKey+=1)):void(this.currentTabIndex+=1)},tabListChangeHandler:function(t){this.currentTabIndex=t.index,this.updateQuery()},gamesFilterChangeHandler:function(t){var e={category:"pvp",action:"tourn_popgames_click",label:t};Object(o["a"])("pvp_tourn_popgames_click",e)},updateQuery:function(){var t,e;this.$router.replace({query:Object(r["a"])(Object(r["a"])({},this.$route.query),{},{games:null!==(t=this.gamesIds)&&void 0!==t&&t.length?null===(e=this.gamesIds)||void 0===e?void 0:e.join(","):void 0})})}})}}).call(this,a("2f62")["mapState"],a("2f62")["mapGetters"],a("bcbf")["default"],a("2f62")["mapActions"])},"6e73":function(t,e,a){},"7b5d":function(t,e,a){"use strict";a("4620")},"7e18":function(t,e,a){"use strict";(function(t){var s=a("5530"),n=(a("d81d"),a("57c2")),i=a("e56a"),r=a("c562"),o=a("b9e7"),l=a("6caf"),c=a("9627"),u=a("9324"),d=a("614b"),p=a("bad0");e["a"]={name:"TournamentsTable",components:{Table:n["a"],TableRow:i["a"],TableData:r["a"],Pagination:c["a"],TournamentMobileCard:o["a"],CellTournament:u["a"],CellSimple:d["a"],TournamentStatus:p["a"],TournamentConditions:l["a"]},props:{tournamentsIds:{type:Array,default:function(){return[]}},showPagination:{type:Boolean,default:!1},paginationParams:{type:Object,default:function(){return{}}}},data:function(){return{loadingState:{tournaments:!1},tableHeaders:[this.$t("tournaments.single"),this.$t("global.start"),this.$t("global.durationShort"),this.$t("tournaments.system"),this.$t("participants.few"),this.$t("global.conditions"),this.$t("tournaments.prizePool"),this.$t("global.status")]}},computed:Object(s["a"])(Object(s["a"])({},t("tournaments",["getTournamentTable"])),{},{tournaments:function(){var t;return null===(t=this.tournamentsIds)||void 0===t?void 0:t.map(this.getTournamentTable)}}),methods:{setPage:function(t){var e=t.page,a=t.perPage;this.$emit("setPage",{page:e,perPage:a})}}}}).call(this,a("2f62")["mapGetters"])},8090:function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return t.tournamentsIds.length?e("div",{staticClass:"tournaments-carousel"},[e("headline",[e("h2",{attrs:{slot:"title"},slot:"title"},[t._t("title",(function(){return[t._v(t._s(t.$t("tournaments.recommended")))]}))],2)]),e("hooper",{staticClass:"tournaments-slider",class:{"no-controls":t.controlsDisabled},attrs:{settings:t.settings},on:{updated:t.afterUpdate}},[t._l(t.tournamentsIds,(function(t,a){return e("slide",{key:a},[e("div",{staticClass:"tournaments-slide"},[e("tournament-card",{attrs:{id:t}})],1)])})),e("navigation",{attrs:{slot:"hooper-addons"},slot:"hooper-addons"})],2)],1):t._e()},n=[],i=a("7e04"),r=a("28e7"),o={name:"TournamentsCarousel",components:{TournamentCard:r["a"],Hooper:i["a"],Slide:i["d"],Navigation:i["b"]},props:{tournamentsIds:{type:Array,default:function(){return[]}}},data:function(){return{controlsDisabled:!1,settings:{itemsToShow:1.1,itemsToSlide:1,centerMode:!1,wheelControl:!1,initialSlide:1,breakpoints:{744:{itemsToShow:2,itemsToSlide:2,initialSlide:1},1019:{itemsToShow:3,itemsToSlide:3,initialSlide:1}}}}},methods:{afterUpdate:function(t){var e=t.containerWidth,a=t.slideWidth;this.controlsDisabled=e>=this.tournamentsIds.length*a}}},l=o,c=(a("c7b2"),a("2877")),u=Object(c["a"])(l,s,n,!1,null,"6a5907d0",null);e["a"]=u.exports},8161:function(t,e,a){"use strict";a("4de4"),a("d3b7");var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"profile-tournaments",attrs:{id:"profile-tournaments"}},[t.showSubtitle?e("headline",{staticClass:"centered spaced"},[e("h3",{attrs:{slot:"title"},slot:"title"},[t._v(" "+t._s(t.$t("tournaments.variant_".concat(t.isCurrentUserProfile?"my":"player")))+" ")])]):t._e(),t.loadingState.page?e("loader",{staticClass:"loading-container",class:{bg:t.tournamentsIds.length},attrs:{size:64}}):t._e(),t.userHasTournaments&&!t.hideFilter?e("tournaments-filter",{model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}):t._e(),t.tournamentsIds.length?[e("TournamentsTable",{attrs:{"tournaments-ids":t.tournamentsIds,"show-pagination":t.showPagination,"pagination-params":t.paginationParams},on:{setPage:t.setPage}})]:t.loadingState.page?t._e():e("div",{staticClass:"tournaments-placeholder"},[e("div",{staticClass:"placeholder-text"},[t._v(" "+t._s(t.isCurrentUserProfile?t.placeholderText.current:t.placeholderText.other)+" ")])])],2)},n=[],i=a("a20d"),r=i["a"],o=(a("f210"),a("2877")),l=Object(o["a"])(r,s,n,!1,null,"c621ed5a",null);e["a"]=l.exports},"85cf":function(t,e,a){},"8e01":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tournaments-table"},[e("div",{staticClass:"main__table"},[t.tournaments.length?[e("Table",{scopedSlots:t._u([{key:"thead",fn:function(){return[e("TableRow",t._l(t.tableHeaders,(function(a,s){return e("TableData",{key:s,attrs:{"text-align":0==s?"left":"center",heading:""}},[t._v(" "+t._s(a)+" ")])})),1)]},proxy:!0},{key:"tbody",fn:function(){return t._l(t.tournaments,(function(a){return e("TableRow",{key:a.id},[e("TableData",{attrs:{"text-align":"left","white-space":"normal"}},[e("cell-tournament",{attrs:{id:a.id}})],1),e("TableData",[e("cell-simple",[e("pvp-tooltip",[t._v(" "+t._s(t.$dt(a.tsStartRun,"dd_MM_HH_mm"))+" "),e("template",{slot:"tooltip"},[t._v(t._s(t.$t("tournaments.tooltips_start")))])],2)],1)],1),e("TableData",[e("cell-simple",{staticClass:"centered"},[e("pvp-tooltip",{staticClass:"duration"},[e("template",{slot:"tooltip"},[t._v(t._s(t.$t("tournaments.tooltips_duration")))]),t._l(a.duration,(function(a,s){return e("div",{key:s},[t._v(" "+t._s(a)+" ")])}))],2)],1)],1),e("TableData",[e("cell-simple",{staticClass:"centered mobile"},[e("pvp-tooltip",[e("template",{slot:"tooltip"},[t._v(" "+t._s(t.$t("tournaments.tooltips_format_text",{counts:t.$tc("tournaments.tooltips_format_counts",a.numTeamMembers)}))+" ")]),t._v(" "+t._s(a.format)+" ")],2)],1)],1),e("TableData",[e("cell-simple",[e("pvp-tooltip",{staticClass:"tournament-participants"},[e("template",{slot:"tooltip"},[t._v(t._s(t.$t("tournaments.tooltips_participants")))]),t._v(" "+t._s(a.participantsCountStatistic)+" ")],2)],1)],1),e("TableData",[e("TournamentConditions",{attrs:{"is-trusted":a.isTrusted,"is-anticheat":a.hasAntiCheat,"trust-tooltip-text":t.$t("organizations.trusted_".concat(a.isTrusted?"enabled":"disabled")),"anticheat-tooltip-text":t.$t("tournaments.tooltips_anticheat_".concat(a.hasAntiCheat?"enabled":"disabled"))}})],1),e("TableData",[e("cell-simple",{staticClass:"custom"},[a.hasPrizes?t._l(a.prizes,(function(a,s){return e("pvp-tooltip",{key:s,staticClass:"prize"},[e("div",{staticClass:"value"},[t._v(t._s(a.count))]),e("icon",{attrs:{name:a.icon}}),e("template",{slot:"tooltip"},[t._v(t._s(a.tooltip))])],2)})):t._e()],2)],1),e("TableData",[e("cell-simple",{staticClass:"mobile custom"},[t._t("status",(function(){return[e("tournament-status",{attrs:{id:a.id,"btn-color":"boost"}}),a.participationResult?e("div",{staticClass:"participation-result"},[t._v(" "+t._s(a.participationResult.text)+" ")]):t._e()]}),{tournament:a})],2)],1)],1)}))},proxy:!0}],null,!0)}),t.showPagination?e("pagination",{staticClass:"pagination",attrs:{params:t.paginationParams,disabled:t.loadingState.tournaments},on:{onchange:t.setPage}}):t._e()]:e("div",{staticClass:"empty"},[e("icon",{staticClass:"empty-icon",attrs:{name:"vkplay"}}),e("div",{staticClass:"empty-text"},[t._v(" "+t._s(t.$t("tournaments.placeholders_filters"))+" ")])],1)],2),e("div",{staticClass:"main__tournaments-card"},[t.tournaments.length?e("ul",[t._l(t.tournaments,(function(a){return e("TournamentMobileCard",{key:a.id,scopedSlots:t._u([{key:"title",fn:function(){return[e("cell-tournament",{attrs:{id:a.id}})]},proxy:!0},{key:"data",fn:function(){return[e("div",[e("h3",{staticClass:"cell-title"},[t._v(t._s(t.$t("global.start")))]),e("cell-simple",[e("pvp-tooltip",[t._v(" "+t._s(t.$dt(a.tsStartRun,"dd_MM_HH_mm"))+" "),e("template",{slot:"tooltip"},[t._v(t._s(t.$t("tournaments.tooltips_start")))])],2)],1)],1),e("div",[e("h3",{staticClass:"cell-title"},[t._v(" "+t._s(t.$t("global.durationShort"))+" ")]),e("cell-simple",{staticClass:"centered"},[e("pvp-tooltip",{staticClass:"duration"},[e("template",{slot:"tooltip"},[t._v(t._s(t.$t("tournaments.tooltips_duration")))]),t._l(a.duration,(function(a,s){return e("div",{key:s},[t._v(" "+t._s(a)+" ")])}))],2)],1)],1),e("div",[e("h3",{staticClass:"cell-title"},[t._v(" "+t._s(t.$t("tournaments.system"))+" ")]),e("cell-simple",{staticClass:"centered mobile"},[e("pvp-tooltip",[e("template",{slot:"tooltip"},[t._v(" "+t._s(t.$t("tournaments.tooltips_format_text",{counts:t.$tc("tournaments.tooltips_format_counts",a.numTeamMembers)}))+" ")]),t._v(" "+t._s(a.format)+" ")],2)],1)],1),e("div",[e("h3",{staticClass:"cell-title"},[t._v(t._s(t.$t("participants.few")))]),e("cell-simple",[e("pvp-tooltip",{staticClass:"tournament-participants"},[e("template",{slot:"tooltip"},[t._v(t._s(t.$t("tournaments.tooltips_participants")))]),t._v(" "+t._s(a.participantsCountStatistic)+" ")],2)],1)],1),e("div",[e("h3",{staticClass:"cell-title"},[t._v(" "+t._s(t.$t("tournaments.prizePool"))+" ")]),e("cell-simple",[a.hasPrizes?t._l(a.prizes,(function(a,s){return e("pvp-tooltip",{key:s,staticClass:"prize"},[e("div",{staticClass:"prize__value"},[t._v(t._s(a.count))]),e("icon",{attrs:{name:a.icon}}),e("template",{slot:"tooltip"},[t._v(t._s(a.tooltip))])],2)})):e("p",[t._v(t._s(t.$t("boost.stay_out")))])],2)],1)]},proxy:!0},{key:"registration",fn:function(){return[e("cell-simple",{staticClass:"mobile custom"},[t._t("status",(function(){return[e("tournament-status",{attrs:{id:a.id,"btn-color":"boost"}}),a.participationResult?e("div",{staticClass:"participation-result"},[t._v(" "+t._s(a.participationResult.text)+" ")]):t._e()]}),{tournament:a})],2)]},proxy:!0}],null,!0)})})),t.showPagination?e("pagination",{staticClass:"pagination",attrs:{params:t.paginationParams,disabled:t.loadingState.tournaments},on:{onchange:t.setPage}}):t._e()],2):e("div",{staticClass:"empty"},[e("icon",{staticClass:"empty-icon",attrs:{name:"vkplay"}}),e("div",{staticClass:"empty-text"},[t._v(" "+t._s(t.$t("tournaments.placeholders_filters"))+" ")])],1)])])},n=[],i=a("7e18"),r=i["a"],o=(a("abd5"),a("2877")),l=Object(o["a"])(r,s,n,!1,null,"4ddff4c6",null);e["a"]=l.exports},"8f74":function(t,e,a){},9627:function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("box",{staticClass:"pagination box-border pvp-pagination"},[e("div",{staticClass:"pagination-pages"},[e("button",{staticClass:"pagination-block pagination-button prev",attrs:{type:"button",disabled:t.disabled||t.currentPage<=1},on:{click:function(e){return t.changePage(t.currentPage-1)}}},[e("icon",{attrs:{name:"play"}})],1),t._l(t.pages,(function(a,s){return[a.isDivider?e("div",{key:s+"dots",staticClass:"pagination-block pagination-divider"},[e("icon",{attrs:{name:"paginator-more"}})],1):e("button",{key:s,staticClass:"pagination-block pagination-button",class:{active:a.isCurrent},attrs:{type:"button",disabled:t.disabled},on:{click:function(e){return t.changePage(a.num)}}},[t._v(" "+t._s(a.num)+" ")])]})),e("button",{staticClass:"pagination-block pagination-button next",attrs:{disabled:t.disabled||t.currentPage>=t.totalPages,type:"button"},on:{click:function(e){return t.changePage(t.currentPage+1)}}},[e("icon",{attrs:{name:"play"}})],1)],2),t.hasPerpage?e("div",{staticClass:"pagination-perpage"},[t.params.showBy?e("div",{staticClass:"perpage-text"},[t._v(" "+t._s(t.params.showBy)+": ")]):t._e(),t._l(t.perPageSizes,(function(a,s){return e("button",{key:s,staticClass:"pagination-block pagination-button",class:{active:String(a)===String(t.perPage)},attrs:{disabled:t.disabled,type:"button"},on:{click:function(e){return t.changePerPage(a)}}},[t._v(" "+t._s(a)+" ")])}))],2):t._e()])},n=[],i=a("3892"),r=i["a"],o=(a("49c7"),a("2877")),l=Object(o["a"])(r,s,n,!1,null,"3be0786e",null);e["a"]=l.exports},a20d:function(t,e,a){"use strict";(function(t,s){var n=a("5530"),i=(a("a9e3"),a("4de4"),a("d3b7"),a("caad"),a("8e01")),r=a("314c");e["a"]={name:"ProfileTournaments",components:{TournamentsFilter:r["a"],TournamentsTable:i["a"]},props:{hash:{type:String,required:!0},hideFilter:{type:Boolean,default:!1},showSubtitle:{type:Boolean,default:!1},gameId:{type:Number,default:null}},data:function(){return{tournamentsIds:[],userHasTournaments:null,filter:{type:"all",gameId:null},currentPage:1,perPage:12,total:0,perPageSizes:[12,36,72],sortFiled:"date",sortOrder:"desc"}},computed:{isCurrentUserProfile:function(){return this.getCurrentProfileHash===this.hash},paginationParams:function(){return{page:this.currentPage,perPage:this.perPage,total:this.total,perPageSizes:this.perPageSizes}},showPagination:function(){return this.total>t.head(this.perPageSizes)},currentTab:function(){return this.tabs[this.currentTabIndex]},profile:function(){return this.getUserProfile(this.profileHash)},placeholderText:function(){var t={current:this.$t("profile.no-tournaments_filters_current"),other:this.$t("profile.no-tournaments_filters_other")};return this.filter.gameId||"all"!==this.filter.type?t:{current:this.$t("profile.no-tournaments_default_current"),other:this.$t("profile.no-tournaments_default_other")}}},watch:{paginationParams:{handler:function(){this.scrollToElement({element:t.get(this.$refs,"tournaments-list.$el"),offset:-200})}},filter:{handler:function(t){this.sortOrder=["started","future"].includes(t.type)?"asc":"desc",this.reloadTournaments(1)},deep:!0},gameId:{handler:function(t){this.filter.gameId=t},immediate:!0}},created:function(){this.reloadTournaments()},methods:Object(n["a"])(Object(n["a"])({},s("tournaments",["fetchProfileTournaments"])),{},{setPage:function(t){var e=t.page,a=t.perPage;this.perPage=a,this.reloadTournaments(e)},onSortToggled:function(){this.sortOrder="asc"===this.sortOrder?"desc":"asc",this.reloadTournaments(1)},reloadTournaments:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!==t&&(this.currentPage=t),this.loadingState.page=!0,this.loadTournaments()},loadTournaments:function(){var t=this;this.fetchProfileTournaments({hash:this.hash,type:this.filter.type,gameId:this.filter.gameId,page:this.currentPage,limit:this.perPage,sort:{field:this.sortFiled,order:this.sortOrder}}).then((function(e){t.tournamentsIds=e.tournaments,t.total=e.pagination.total,null===t.userHasTournaments&&(t.userHasTournaments=!!t.total)})).finally((function(){t.loadingState.page=!1}))}})}}).call(this,a("bcbf")["default"],a("2f62")["mapActions"])},a7cd:function(t,e,a){"use strict";(function(t){var s=a("5530"),n=(a("d81d"),a("57c2")),i=a("e56a"),r=a("c562"),o=a("6caf"),l=a("bad0"),c=a("9324"),u=a("614b");e["a"]={name:"TournamentsList",components:{Table:n["a"],TableRow:i["a"],TableData:r["a"],TournamentConditions:o["a"],CellSimple:u["a"],CellTournament:c["a"],TournamentStatus:l["a"]},props:{tournamentsIds:{type:Array,required:!0},sortOrder:{type:String,default:"desc"}},computed:Object(s["a"])(Object(s["a"])({},t("tournaments",["getTournamentTable"])),{},{tournaments:function(){var t;return null===(t=this.tournamentsIds)||void 0===t?void 0:t.map(this.getTournamentTable)}})}}).call(this,a("2f62")["mapGetters"])},a963:function(t,e,a){"use strict";a("6e73")},abd5:function(t,e,a){"use strict";a("8f74")},b9e7:function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("li",{staticClass:"tournament-card"},[e("h3",{staticClass:"tournament-card__title"},[t._t("title")],2),e("div",{staticClass:"tournament-card__config"},[t._t("data")],2),t._t("registration")],2)},n=[],i={name:"TournamentMobileCard"},r=i,o=(a("fce7"),a("2877")),l=Object(o["a"])(r,s,n,!1,null,"01da8ae4",null);e["a"]=l.exports},c7b2:function(t,e,a){"use strict";a("054a")},cab1:function(t,e,a){},d46c:function(t,e,a){"use strict";a("f048")},f048:function(t,e,a){},f0f9:function(t,e,a){"use strict";a("b0c0");var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"games-filter noselect"},[t.hideHeadline?t._e():e("headline",[e("h2",{attrs:{slot:"title"},slot:"title"},[t._t("title",(function(){return[t._v(t._s(t.$t("games.popular")))]}))],2),t.asLinks||!t.selectedGames.length||t.isJobfair?t._e():e("div",{staticClass:"reset-filter-link",attrs:{slot:"addon"},on:{click:t.clearSelection},slot:"addon"},[e("icon",{attrs:{name:"cross"}}),t._v(" "+t._s(t.$t("filter.skip"))+" ")],1)]),t.appIsMobile?[e("pvp-btn",{staticClass:"games-popover-button",attrs:{variant:"secondary",block:!0},on:{click:t.showGamesPopover}},[t._v(t._s(t.$t("games.choose"))+" "),t.selectedGame?[t._v("("+t._s(t.selectedGame.name)+")")]:t._e()],2)]:[e("div",{staticClass:"games-list"},[t.asLinks?t._e():e("div",{staticClass:"game-switch selectable",class:{active:t.allGamesSelected},on:{click:t.clearSelection}},[e("div",{staticClass:"text"},[t._v(t._s(t.$t("games.all")))])]),t._l(t.gamesMain,(function(a){return e("div",{key:a.id,staticClass:"game-switch selectable",class:{active:a.selected},on:{click:function(e){return t.toggleGame(a)}}},[e("div",{staticClass:"icon"},[e("game-tag",{staticClass:"big",attrs:{id:a.id,"display-name":!1}})],1),e("div",{staticClass:"text"},[t._v(t._s(a.shortName))])])})),e("div",{staticClass:"game-switch games-tags-dropdown",class:{active:!!t.activeTags.length},on:{click:t.showGamesPopover}},[e("div",{staticClass:"text chevron"},[t.activeTags.length?e("div",{staticClass:"count"},[t._v(" +"+t._s(t.activeTags.length)+" ")]):t._e(),e("icon",{attrs:{name:"chevron"}})],1)])],2)],e("transition",{attrs:{name:"fade"}},[t.gamesPopover?e("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideGamesPopover,expression:"hideGamesPopover"}],staticClass:"games-tags-popover fade-animation"},[e("div",{staticClass:"tags-popover-header"},[e("div",{staticClass:"tags-popover-title"},[t._v(" "+t._s(t.$t("games.selection"))+" ")]),e("div",{staticClass:"close-button",on:{click:t.hideGamesPopover}},[e("icon",{attrs:{name:"cross"}})],1)]),e("div",{staticClass:"tags-popover-body"},[e("div",{staticClass:"tags-list"},t._l(t.gamesTags,(function(a){return e("game-tag",{key:a.id,class:{active:a.selected,transparent:!a.selected},attrs:{id:a.id},on:{click:function(e){return t.toggleGame(a)}}})})),1)]),e("div",{staticClass:"tags-popover-footer"},[t.asLinks?t._e():[e("pvp-btn",{attrs:{variant:"secondary"},on:{click:t.clearSelection}},[t._v(" "+t._s(t.$t("filter.clear"))+" ")])]],2)]):t._e()])],2)},n=[],i=a("0816"),r=i["a"],o=(a("d46c"),a("2877")),l=Object(o["a"])(r,s,n,!1,null,"23716960",null);e["a"]=l.exports},f210:function(t,e,a){"use strict";a("cab1")},fa2d:function(t,e,a){},fce7:function(t,e,a){"use strict";a("0a94")}}]);
//# sourceMappingURL=tournaments.0d5190d5.js.map